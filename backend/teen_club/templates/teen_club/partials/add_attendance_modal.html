<div class="modal fade" id="addAttendanceModal" tabindex="-1" aria-labelledby="addAttendanceModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="addAttendanceModalLabel">Add Attendance</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form id="attendanceForm" method="post" action="{% url 'sessions:add_attendance' object.pk %}">
                <div class="modal-body">
                    {% csrf_token %}
                    
                    <!-- Patient Field -->
                    <div class="mb-3">
                        <label for="art_number" class="form-label">ART Number</label>
                        <input data-url="{% url 'sessions:search_name' %}" type="number" class="form-control" id="art_number" name="art_number" placeholder="Enter ART Number" required>
                    </div>
                    <div class="mb-3">
                        <label for="name_name" class="form-label">Name Display as you type</label>
                        <input type="text" class="form-control" id="name_name" name="name">
                    </div>
                    <div class="mb-3">
                        <label for="village" class="form-label">Village</label>
                        <input type="text" class="form-control" id="village" name="village" required>
                    </div>
                    <!-- Purpose and School Fields -->
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            {{ form.purpose.label_tag }}
                            {{ form.purpose }}
                            {% if form.purpose.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.purpose.errors.as_text }}
                                </div>
                            {% endif %}
                        </div>
                        <div class="col-md-6 mb-3">
                            {{ form.school.label_tag }}
                            {{ form.school }}
                            {% if form.school.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.school.errors.as_text }}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Checkbox Fields -->
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <div class="form-check form-switch">
                                {{ form.new_in_teen }}
                                <label class="form-check-label" for="{{ form.new_in_teen.id_for_label }}">
                                    New in Teen
                                </label>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="form-check form-switch">
                                {{ form.guardian_present }}
                                <label class="form-check-label" for="{{ form.guardian_present.id_for_label }}">
                                    Guardian Present
                                </label>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="form-check form-switch">
                                {{ form.vl_drawn }}
                                <label class="form-check-label" for="{{ form.vl_drawn.id_for_label }}">
                                    VL Drawn
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Notes Field -->
                    <div class="mb-3">
                        {{ form.notes.label_tag }}
                        {{ form.notes }}
                        {% if form.notes.errors %}
                            <div class="invalid-feedback d-block">
                                {{ form.notes.errors.as_text }}
                            </div>
                        {% endif %}
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Save Attendance</button>
                </div>
            </form>
        </div>
    </div>
</div>